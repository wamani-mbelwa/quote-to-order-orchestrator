import { CreateQuote } from '../../src/application/usecases.js'; test('CreateQuote emits', async()=>{ const quotes={ create: async(q:any)=>({id:'Q1', createdAt:new Date(), status:'NEW', ...q}), get: async()=>null, markAnalyzed: async()=>{} }; const bus={ publish: async()=>{} }; const uc=new CreateQuote(quotes as any, bus as any); const out=await uc.execute({partNumber:'PN-1', quantity:10}); expect(out.id).toBe('Q1'); });
